<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DetectorGraph: Testing - Unit &amp; Integration Tests</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DetectorGraph
   &#160;<span id="projectnumber">2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Testing - Unit &amp; Integration Tests </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#ts-unit">Unit Tests</a><ul><li class="level2"><a href="#ts-unit-siso">Basics</a></li>
<li class="level2"><a href="#ts-unit-siso-aaa-aa">Act-Assert sequences</a></li>
<li class="level2"><a href="#ts-unit-miso">Multiple Input Single Output</a></li>
<li class="level2"><a href="#ts-unit-futpub">Future Publishes</a></li>
<li class="level2"><a href="#ts-unit-lag">Lag</a></li>
</ul>
</li>
<li class="level1"><a href="#ts-system">Integration Tests</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="ts-unit"></a>
Unit Tests</h1>
<p>One of the design goals of the Framework was to facilitate full testing coverage of any detectors. <a class="el" href="namespaceDetectorGraph.html">DetectorGraph</a> is designed so that each Detector is tested as a Unit - by passing specific input <code>TopicStates</code> and comparing output <code>TopicStates</code> with expected values. </p><dl class="section warning"><dt>Warning</dt><dd>Before continuing it may be good to familiarize yourself with the first few <a class="el" href="custom_examples.html">examples</a> as this document builds on top of those examples.</dd></dl>
<h2><a class="anchor" id="ts-unit-siso"></a>
Basics</h2>
<p>The most basic case is for a SISO Detector like the one in the <a class="el" href="helloworld_8cpp.html">HelloWorld Example</a>. Detector unit tests should be written following the Arrange-Act-Assert (AAA) unit testing pattern.</p>
<p><em>Arrange</em> for the test consists of a graph instance with only the detector under test in it. In addition to that it's also cursory to grab a pointer <code>outTopic</code> to the output Topics we will check in the Assert section of the test. This help setting expectations for the reader and cleans up the later sections of the test. </p><div class="fragment"><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="keywordtype">void</span> Test_AboveThreshold()  <span class="comment">// Adapt to your Unit Test Framework</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;{</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">// Arrange</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="classDetectorGraph_1_1Graph.html">DetectorGraph::Graph</a> graph;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    OverheatingDetector detector(&amp;graph);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keyword">auto</span> outTopic = graph.<a class="code" href="classDetectorGraph_1_1Graph.html#ac5b90d3ec0b57ff6c04a5cac1d8c687c">ResolveTopic</a>&lt;OverheatingState&gt;();</div><div class="ttc" id="classDetectorGraph_1_1Graph_html"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html">DetectorGraph::Graph</a></div><div class="ttdoc">Implements a graph of Topics &amp; Detectors with Input/Output APIs. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8hpp_source.html#l00127">graph.hpp:127</a></div></div>
<div class="ttc" id="classDetectorGraph_1_1Graph_html_ac5b90d3ec0b57ff6c04a5cac1d8c687c"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#ac5b90d3ec0b57ff6c04a5cac1d8c687c">DetectorGraph::Graph::ResolveTopic</a></div><div class="ttdeci">Topic&lt; TTopicState &gt; * ResolveTopic()</div><div class="ttdoc">Find/add a topic in the detector graph. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8hpp_source.html#l00160">graph.hpp:160</a></div></div>
</div><!-- fragment --><p>Note that different Unit Testing frameworks will use different function signatures for tests so adapt it as necessary.</p>
<p><em>Act</em> consists in <em>Pushing</em> the input data topic into the input queue and <em>Evaluating</em> the graph. </p><div class="fragment"><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="comment">// Act</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    graph.<a class="code" href="classDetectorGraph_1_1Graph.html#aeab252a7ba121ea31750822bc0faf111">PushData</a>(TemperatureSample(OverheatingDetector::kThreshold+1));</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    graph.<a class="code" href="classDetectorGraph_1_1Graph.html#a5c4388d5a8d80710bfb0a68c2b45ebbd">EvaluateGraph</a>();</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="ttc" id="classDetectorGraph_1_1Graph_html_aeab252a7ba121ea31750822bc0faf111"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#aeab252a7ba121ea31750822bc0faf111">DetectorGraph::Graph::PushData</a></div><div class="ttdeci">void PushData(const TTopicState &amp;aTopicState)</div><div class="ttdoc">Push data to a specific topic in the graph. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8hpp_source.html#l00187">graph.hpp:187</a></div></div>
<div class="ttc" id="classDetectorGraph_1_1Graph_html_a5c4388d5a8d80710bfb0a68c2b45ebbd"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#a5c4388d5a8d80710bfb0a68c2b45ebbd">DetectorGraph::Graph::EvaluateGraph</a></div><div class="ttdeci">ErrorType EvaluateGraph()</div><div class="ttdoc">Evaluate the whole graph. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8cpp_source.html#l00133">graph.cpp:133</a></div></div>
</div><!-- fragment --><p> <em>Assert</em> consists in <a class="el" href="topic_inspection_apis.html">inspecting</a> the output topic(s): </p><div class="fragment"><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">// Assert</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a>(outTopic-&gt;HasNewValue()); <span class="comment">// Adapt to your Unit Test Framework</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a>(outTopic-&gt;GetNewValue().isOverheating == <span class="keyword">true</span>); <span class="comment">// Adapt to your Unit Test Framework</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;}</div><div class="ttc" id="dgassert_8hpp_html_a0753e08258e388b9decfac0b282f8966"><div class="ttname"><a href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a></div><div class="ttdeci">#define DG_ASSERT(condition)</div><div class="ttdef"><b>Definition:</b> <a href="dgassert_8hpp_source.html#l00020">dgassert.hpp:20</a></div></div>
</div><!-- fragment --><p>Different Unit Testing frameworks will use different &amp; more expressive assert methods but the idea is the same.</p>
<h2><a class="anchor" id="ts-unit-siso-aaa-aa"></a>
Act-Assert sequences</h2>
<p>In some cases it's nice to submit a detector to a small sequence of Act/Asserts. Care should be taken to maintain the test focused on a single behavior and not let it balloon out of proportion (testing more than one single behavior) - so this only applies when the behavior being tested is sequential in nature.</p>
<p>One such case is to test the counting behavior of the <a class="el" href="counterwithreset_8cpp.html">CounterWithReset Example</a>. The test starts as before: </p><div class="fragment"><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="keywordtype">void</span> Test_Count()</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;{</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="classDetectorGraph_1_1Graph.html">DetectorGraph::Graph</a> graph;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    EventCountDetector detector(&amp;graph);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keyword">auto</span> outTopic = graph.<a class="code" href="classDetectorGraph_1_1Graph.html#ac5b90d3ec0b57ff6c04a5cac1d8c687c">ResolveTopic</a>&lt;EventCount&gt;();</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    graph.<a class="code" href="classDetectorGraph_1_1Graph.html#aeab252a7ba121ea31750822bc0faf111">PushData</a>(EventHappened());</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    graph.<a class="code" href="classDetectorGraph_1_1Graph.html#a5c4388d5a8d80710bfb0a68c2b45ebbd">EvaluateGraph</a>();</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a>(outTopic-&gt;HasNewValue());</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a>(outTopic-&gt;GetNewValue().count == 1);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="ttc" id="classDetectorGraph_1_1Graph_html"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html">DetectorGraph::Graph</a></div><div class="ttdoc">Implements a graph of Topics &amp; Detectors with Input/Output APIs. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8hpp_source.html#l00127">graph.hpp:127</a></div></div>
<div class="ttc" id="classDetectorGraph_1_1Graph_html_aeab252a7ba121ea31750822bc0faf111"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#aeab252a7ba121ea31750822bc0faf111">DetectorGraph::Graph::PushData</a></div><div class="ttdeci">void PushData(const TTopicState &amp;aTopicState)</div><div class="ttdoc">Push data to a specific topic in the graph. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8hpp_source.html#l00187">graph.hpp:187</a></div></div>
<div class="ttc" id="classDetectorGraph_1_1Graph_html_ac5b90d3ec0b57ff6c04a5cac1d8c687c"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#ac5b90d3ec0b57ff6c04a5cac1d8c687c">DetectorGraph::Graph::ResolveTopic</a></div><div class="ttdeci">Topic&lt; TTopicState &gt; * ResolveTopic()</div><div class="ttdoc">Find/add a topic in the detector graph. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8hpp_source.html#l00160">graph.hpp:160</a></div></div>
<div class="ttc" id="classDetectorGraph_1_1Graph_html_a5c4388d5a8d80710bfb0a68c2b45ebbd"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#a5c4388d5a8d80710bfb0a68c2b45ebbd">DetectorGraph::Graph::EvaluateGraph</a></div><div class="ttdeci">ErrorType EvaluateGraph()</div><div class="ttdoc">Evaluate the whole graph. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8cpp_source.html#l00133">graph.cpp:133</a></div></div>
<div class="ttc" id="dgassert_8hpp_html_a0753e08258e388b9decfac0b282f8966"><div class="ttname"><a href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a></div><div class="ttdeci">#define DG_ASSERT(condition)</div><div class="ttdef"><b>Definition:</b> <a href="dgassert_8hpp_source.html#l00020">dgassert.hpp:20</a></div></div>
</div><!-- fragment --><p> And follows with an extra <em>Act</em> and <em>Assert</em> pair: </p><div class="fragment"><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    graph.<a class="code" href="classDetectorGraph_1_1Graph.html#aeab252a7ba121ea31750822bc0faf111">PushData</a>(EventHappened());</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    graph.<a class="code" href="classDetectorGraph_1_1Graph.html#a5c4388d5a8d80710bfb0a68c2b45ebbd">EvaluateGraph</a>();</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a>(outTopic-&gt;HasNewValue());</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a>(outTopic-&gt;GetNewValue().count == 2);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div><div class="ttc" id="classDetectorGraph_1_1Graph_html_aeab252a7ba121ea31750822bc0faf111"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#aeab252a7ba121ea31750822bc0faf111">DetectorGraph::Graph::PushData</a></div><div class="ttdeci">void PushData(const TTopicState &amp;aTopicState)</div><div class="ttdoc">Push data to a specific topic in the graph. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8hpp_source.html#l00187">graph.hpp:187</a></div></div>
<div class="ttc" id="classDetectorGraph_1_1Graph_html_a5c4388d5a8d80710bfb0a68c2b45ebbd"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#a5c4388d5a8d80710bfb0a68c2b45ebbd">DetectorGraph::Graph::EvaluateGraph</a></div><div class="ttdeci">ErrorType EvaluateGraph()</div><div class="ttdoc">Evaluate the whole graph. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8cpp_source.html#l00133">graph.cpp:133</a></div></div>
<div class="ttc" id="dgassert_8hpp_html_a0753e08258e388b9decfac0b282f8966"><div class="ttname"><a href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a></div><div class="ttdeci">#define DG_ASSERT(condition)</div><div class="ttdef"><b>Definition:</b> <a href="dgassert_8hpp_source.html#l00020">dgassert.hpp:20</a></div></div>
</div><!-- fragment --><p>Note that the middle <em>Assert</em> is not necessary per se - it is helpful when it gives the reader confidence that <em>things are going as expected</em> but they will be <em>very</em> unhelpful if they distract the reader from what's coming next; one or a couple of assert lines are fine, 10 are not. Use your best judgment here.</p>
<h2><a class="anchor" id="ts-unit-miso"></a>
Multiple Input Single Output</h2>
<p>Most times when testing a detector with multiple inputs and multiple outputs each input has to be <em>Pushed</em> and <em>Evaluated</em> on its own. Again, for the <a class="el" href="counterwithreset_8cpp.html">CounterWithReset Example</a>: </p><div class="fragment"><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="keywordtype">void</span> Test_ResetCount()</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;{</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="comment">// Arrange</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="classDetectorGraph_1_1Graph.html">DetectorGraph::Graph</a> graph;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    EventCountDetector detector(&amp;graph);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keyword">auto</span> outTopic = graph.<a class="code" href="classDetectorGraph_1_1Graph.html#ac5b90d3ec0b57ff6c04a5cac1d8c687c">ResolveTopic</a>&lt;EventCount&gt;();</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    graph.<a class="code" href="classDetectorGraph_1_1Graph.html#aeab252a7ba121ea31750822bc0faf111">PushData</a>(EventHappened());</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    graph.<a class="code" href="classDetectorGraph_1_1Graph.html#a5c4388d5a8d80710bfb0a68c2b45ebbd">EvaluateGraph</a>();</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="ttc" id="classDetectorGraph_1_1Graph_html"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html">DetectorGraph::Graph</a></div><div class="ttdoc">Implements a graph of Topics &amp; Detectors with Input/Output APIs. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8hpp_source.html#l00127">graph.hpp:127</a></div></div>
<div class="ttc" id="classDetectorGraph_1_1Graph_html_aeab252a7ba121ea31750822bc0faf111"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#aeab252a7ba121ea31750822bc0faf111">DetectorGraph::Graph::PushData</a></div><div class="ttdeci">void PushData(const TTopicState &amp;aTopicState)</div><div class="ttdoc">Push data to a specific topic in the graph. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8hpp_source.html#l00187">graph.hpp:187</a></div></div>
<div class="ttc" id="classDetectorGraph_1_1Graph_html_ac5b90d3ec0b57ff6c04a5cac1d8c687c"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#ac5b90d3ec0b57ff6c04a5cac1d8c687c">DetectorGraph::Graph::ResolveTopic</a></div><div class="ttdeci">Topic&lt; TTopicState &gt; * ResolveTopic()</div><div class="ttdoc">Find/add a topic in the detector graph. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8hpp_source.html#l00160">graph.hpp:160</a></div></div>
<div class="ttc" id="classDetectorGraph_1_1Graph_html_a5c4388d5a8d80710bfb0a68c2b45ebbd"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#a5c4388d5a8d80710bfb0a68c2b45ebbd">DetectorGraph::Graph::EvaluateGraph</a></div><div class="ttdeci">ErrorType EvaluateGraph()</div><div class="ttdoc">Evaluate the whole graph. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8cpp_source.html#l00133">graph.cpp:133</a></div></div>
</div><!-- fragment --><p>Here the <em>Arrange</em> step includes pushing some data and evaluating the graph.</p>
<p><em>Act</em> and <em>Assert</em> are then done just as before: </p><div class="fragment"><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    graph.<a class="code" href="classDetectorGraph_1_1Graph.html#aeab252a7ba121ea31750822bc0faf111">PushData</a>(Reset());</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    graph.<a class="code" href="classDetectorGraph_1_1Graph.html#a5c4388d5a8d80710bfb0a68c2b45ebbd">EvaluateGraph</a>();</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a>(outTopic-&gt;HasNewValue());</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a>(outTopic-&gt;GetNewValue().count == 0);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;}</div><div class="ttc" id="classDetectorGraph_1_1Graph_html_aeab252a7ba121ea31750822bc0faf111"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#aeab252a7ba121ea31750822bc0faf111">DetectorGraph::Graph::PushData</a></div><div class="ttdeci">void PushData(const TTopicState &amp;aTopicState)</div><div class="ttdoc">Push data to a specific topic in the graph. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8hpp_source.html#l00187">graph.hpp:187</a></div></div>
<div class="ttc" id="classDetectorGraph_1_1Graph_html_a5c4388d5a8d80710bfb0a68c2b45ebbd"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#a5c4388d5a8d80710bfb0a68c2b45ebbd">DetectorGraph::Graph::EvaluateGraph</a></div><div class="ttdeci">ErrorType EvaluateGraph()</div><div class="ttdoc">Evaluate the whole graph. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8cpp_source.html#l00133">graph.cpp:133</a></div></div>
<div class="ttc" id="dgassert_8hpp_html_a0753e08258e388b9decfac0b282f8966"><div class="ttname"><a href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a></div><div class="ttdeci">#define DG_ASSERT(condition)</div><div class="ttdef"><b>Definition:</b> <a href="dgassert_8hpp_source.html#l00020">dgassert.hpp:20</a></div></div>
</div><!-- fragment --> <h2><a class="anchor" id="ts-unit-futpub"></a>
Future Publishes</h2>
<p>In order for detectors to close feedback loops/cycles in the graph they must be <a class="el" href="classDetectorGraph_1_1FuturePublisher.html">FuturePublisher</a>s. The simplest example of this is shown in the <code>ResetDetector</code> within the <a class="el" href="counterwithreset_8cpp.html">CounterWithReset Example</a>. The interesting detail here is that Topics published with <a class="el" href="classDetectorGraph_1_1FuturePublisher.html#aa2f2c94a4ffbb2372dc707f323573eaf">PublishOnFutureEvaluation</a> are, as the name suggests, published only in the next evaluation and that needs to be taken into account in the unit test.</p>
<dl class="section warning"><dt>Warning</dt><dd>See the section below for a note on <a class="el" href="classDetectorGraph_1_1Lag.html">Lag</a> for reasons why that's preferred than what's shown here.</dd></dl>
<p>Initial <em>Arrange</em> and <em>Act</em> are as normal: </p><div class="fragment"><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="keywordtype">void</span> Test_ResetDetected()</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;{</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="comment">// Arrange</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <a class="code" href="classDetectorGraph_1_1Graph.html">DetectorGraph::Graph</a> graph;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    ResetDetector detector(&amp;graph);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keyword">auto</span> outTopic = graph.<a class="code" href="classDetectorGraph_1_1Graph.html#ac5b90d3ec0b57ff6c04a5cac1d8c687c">ResolveTopic</a>&lt;Reset&gt;();</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    graph.<a class="code" href="classDetectorGraph_1_1Graph.html#aeab252a7ba121ea31750822bc0faf111">PushData</a>(EventCount(ResetDetector::kMaxCount));</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    graph.<a class="code" href="classDetectorGraph_1_1Graph.html#a5c4388d5a8d80710bfb0a68c2b45ebbd">EvaluateGraph</a>();</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="ttc" id="classDetectorGraph_1_1Graph_html"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html">DetectorGraph::Graph</a></div><div class="ttdoc">Implements a graph of Topics &amp; Detectors with Input/Output APIs. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8hpp_source.html#l00127">graph.hpp:127</a></div></div>
<div class="ttc" id="classDetectorGraph_1_1Graph_html_aeab252a7ba121ea31750822bc0faf111"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#aeab252a7ba121ea31750822bc0faf111">DetectorGraph::Graph::PushData</a></div><div class="ttdeci">void PushData(const TTopicState &amp;aTopicState)</div><div class="ttdoc">Push data to a specific topic in the graph. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8hpp_source.html#l00187">graph.hpp:187</a></div></div>
<div class="ttc" id="classDetectorGraph_1_1Graph_html_ac5b90d3ec0b57ff6c04a5cac1d8c687c"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#ac5b90d3ec0b57ff6c04a5cac1d8c687c">DetectorGraph::Graph::ResolveTopic</a></div><div class="ttdeci">Topic&lt; TTopicState &gt; * ResolveTopic()</div><div class="ttdoc">Find/add a topic in the detector graph. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8hpp_source.html#l00160">graph.hpp:160</a></div></div>
<div class="ttc" id="classDetectorGraph_1_1Graph_html_a5c4388d5a8d80710bfb0a68c2b45ebbd"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#a5c4388d5a8d80710bfb0a68c2b45ebbd">DetectorGraph::Graph::EvaluateGraph</a></div><div class="ttdeci">ErrorType EvaluateGraph()</div><div class="ttdoc">Evaluate the whole graph. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8cpp_source.html#l00133">graph.cpp:133</a></div></div>
</div><!-- fragment --><p> But the test must check:</p><ul>
<li>that the output is not immediately published</li>
<li>that the intended <code>TopicState</code> is published on the next evaluation.</li>
</ul>
<p>And that can be done with: </p><div class="fragment"><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a>(!outTopic-&gt;HasNewValue());</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    graph.<a class="code" href="classDetectorGraph_1_1Graph.html#a5c4388d5a8d80710bfb0a68c2b45ebbd">EvaluateGraph</a>();</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a>(outTopic-&gt;HasNewValue());</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;}</div><div class="ttc" id="classDetectorGraph_1_1Graph_html_a5c4388d5a8d80710bfb0a68c2b45ebbd"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#a5c4388d5a8d80710bfb0a68c2b45ebbd">DetectorGraph::Graph::EvaluateGraph</a></div><div class="ttdeci">ErrorType EvaluateGraph()</div><div class="ttdoc">Evaluate the whole graph. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8cpp_source.html#l00133">graph.cpp:133</a></div></div>
<div class="ttc" id="dgassert_8hpp_html_a0753e08258e388b9decfac0b282f8966"><div class="ttname"><a href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a></div><div class="ttdeci">#define DG_ASSERT(condition)</div><div class="ttdef"><b>Definition:</b> <a href="dgassert_8hpp_source.html#l00020">dgassert.hpp:20</a></div></div>
</div><!-- fragment --><p> The same idea applies when testing the negative complementary of such behaviors: </p><div class="fragment"><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="keywordtype">void</span> Test_NoResetDetected()</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;{</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="comment">// Arrange</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <a class="code" href="classDetectorGraph_1_1Graph.html">DetectorGraph::Graph</a> graph;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    ResetDetector detector(&amp;graph);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keyword">auto</span> outTopic = graph.<a class="code" href="classDetectorGraph_1_1Graph.html#ac5b90d3ec0b57ff6c04a5cac1d8c687c">ResolveTopic</a>&lt;Reset&gt;();</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    graph.<a class="code" href="classDetectorGraph_1_1Graph.html#aeab252a7ba121ea31750822bc0faf111">PushData</a>(EventCount(ResetDetector::kMaxCount-1));</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    graph.<a class="code" href="classDetectorGraph_1_1Graph.html#a5c4388d5a8d80710bfb0a68c2b45ebbd">EvaluateGraph</a>();</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a>(!outTopic-&gt;HasNewValue());</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    graph.<a class="code" href="classDetectorGraph_1_1Graph.html#a5c4388d5a8d80710bfb0a68c2b45ebbd">EvaluateGraph</a>();</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a>(!outTopic-&gt;HasNewValue());</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;}</div><div class="ttc" id="classDetectorGraph_1_1Graph_html"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html">DetectorGraph::Graph</a></div><div class="ttdoc">Implements a graph of Topics &amp; Detectors with Input/Output APIs. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8hpp_source.html#l00127">graph.hpp:127</a></div></div>
<div class="ttc" id="classDetectorGraph_1_1Graph_html_aeab252a7ba121ea31750822bc0faf111"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#aeab252a7ba121ea31750822bc0faf111">DetectorGraph::Graph::PushData</a></div><div class="ttdeci">void PushData(const TTopicState &amp;aTopicState)</div><div class="ttdoc">Push data to a specific topic in the graph. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8hpp_source.html#l00187">graph.hpp:187</a></div></div>
<div class="ttc" id="classDetectorGraph_1_1Graph_html_ac5b90d3ec0b57ff6c04a5cac1d8c687c"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#ac5b90d3ec0b57ff6c04a5cac1d8c687c">DetectorGraph::Graph::ResolveTopic</a></div><div class="ttdeci">Topic&lt; TTopicState &gt; * ResolveTopic()</div><div class="ttdoc">Find/add a topic in the detector graph. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8hpp_source.html#l00160">graph.hpp:160</a></div></div>
<div class="ttc" id="classDetectorGraph_1_1Graph_html_a5c4388d5a8d80710bfb0a68c2b45ebbd"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#a5c4388d5a8d80710bfb0a68c2b45ebbd">DetectorGraph::Graph::EvaluateGraph</a></div><div class="ttdeci">ErrorType EvaluateGraph()</div><div class="ttdoc">Evaluate the whole graph. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8cpp_source.html#l00133">graph.cpp:133</a></div></div>
<div class="ttc" id="dgassert_8hpp_html_a0753e08258e388b9decfac0b282f8966"><div class="ttname"><a href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a></div><div class="ttdeci">#define DG_ASSERT(condition)</div><div class="ttdef"><b>Definition:</b> <a href="dgassert_8hpp_source.html#l00020">dgassert.hpp:20</a></div></div>
</div><!-- fragment --> <h2><a class="anchor" id="ts-unit-lag"></a>
Lag</h2>
<p><a class="el" href="classDetectorGraph_1_1Lag.html">Lags</a> are the more general, preferred &amp; readable way to close loops in a graph - and one place they shine the shiniest is in unit tests; since Lags are Detectors themselves and the lagged Topic is just another Topic. That means unit tests do not need to keep track of future publishes as that's all handled outside that one detector. Unit tests then are trivial with respect to the loop:</p>
<div class="fragment"><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="keywordtype">void</span> Test_LowerUserBalanceOnSale()</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;{</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <a class="code" href="classDetectorGraph_1_1Graph.html">DetectorGraph::Graph</a> graph;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    UserBalanceDetector detector(&amp;graph);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keyword">auto</span> outTopic = graph.<a class="code" href="classDetectorGraph_1_1Graph.html#ac5b90d3ec0b57ff6c04a5cac1d8c687c">ResolveTopic</a>&lt;UserBalance&gt;();</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    graph.<a class="code" href="classDetectorGraph_1_1Graph.html#aeab252a7ba121ea31750822bc0faf111">PushData</a>(CoinInserted(kCoinType1d));</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    graph.<a class="code" href="classDetectorGraph_1_1Graph.html#a5c4388d5a8d80710bfb0a68c2b45ebbd">EvaluateGraph</a>();</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <a class="code" href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a>(outTopic-&gt;HasNewValue());</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <a class="code" href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a>(outTopic-&gt;GetNewValue().totalCents == 100);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    graph.<a class="code" href="classDetectorGraph_1_1Graph.html#aeab252a7ba121ea31750822bc0faf111">PushData</a>(Lagged&lt;SaleProcessed&gt;(SaleProcessed(kProductIdTypeNone, 75)));</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    graph.<a class="code" href="classDetectorGraph_1_1Graph.html#a5c4388d5a8d80710bfb0a68c2b45ebbd">EvaluateGraph</a>();</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <a class="code" href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a>(outTopic-&gt;HasNewValue());</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <a class="code" href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a>(outTopic-&gt;GetNewValue().totalCents == 25);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;}</div><div class="ttc" id="classDetectorGraph_1_1Graph_html"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html">DetectorGraph::Graph</a></div><div class="ttdoc">Implements a graph of Topics &amp; Detectors with Input/Output APIs. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8hpp_source.html#l00127">graph.hpp:127</a></div></div>
<div class="ttc" id="classDetectorGraph_1_1Graph_html_aeab252a7ba121ea31750822bc0faf111"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#aeab252a7ba121ea31750822bc0faf111">DetectorGraph::Graph::PushData</a></div><div class="ttdeci">void PushData(const TTopicState &amp;aTopicState)</div><div class="ttdoc">Push data to a specific topic in the graph. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8hpp_source.html#l00187">graph.hpp:187</a></div></div>
<div class="ttc" id="classDetectorGraph_1_1Graph_html_ac5b90d3ec0b57ff6c04a5cac1d8c687c"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#ac5b90d3ec0b57ff6c04a5cac1d8c687c">DetectorGraph::Graph::ResolveTopic</a></div><div class="ttdeci">Topic&lt; TTopicState &gt; * ResolveTopic()</div><div class="ttdoc">Find/add a topic in the detector graph. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8hpp_source.html#l00160">graph.hpp:160</a></div></div>
<div class="ttc" id="classDetectorGraph_1_1Graph_html_a5c4388d5a8d80710bfb0a68c2b45ebbd"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#a5c4388d5a8d80710bfb0a68c2b45ebbd">DetectorGraph::Graph::EvaluateGraph</a></div><div class="ttdeci">ErrorType EvaluateGraph()</div><div class="ttdoc">Evaluate the whole graph. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8cpp_source.html#l00133">graph.cpp:133</a></div></div>
<div class="ttc" id="dgassert_8hpp_html_a0753e08258e388b9decfac0b282f8966"><div class="ttname"><a href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a></div><div class="ttdeci">#define DG_ASSERT(condition)</div><div class="ttdef"><b>Definition:</b> <a href="dgassert_8hpp_source.html#l00020">dgassert.hpp:20</a></div></div>
</div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>There are two reasons why Lags didn't simply replace <code>FuturePublish</code>; legacy code uses FuturePublish extensively and Lags may a bit wasteful in deeply embedded (limited code space) targets.</dd></dl>
<h1><a class="anchor" id="ts-system"></a>
Integration Tests</h1>
<p>In order to test the integration between detectors one can instantiate a subset of detectors (up to the entire set) of an application and test it in the same way as unit tests - all you have to do is think of the whole thing as one single big detector. This test should then be stable regardless of how many detectors compose the solution in between the inputs and outputs.</p>
<p>In integration tests it's important to <em>flush</em> the graph input queue continuously when appropriate for the reasons described in <a class="el" href="testing-style.html#ts-unit-futpub">Future Publishes</a> . This can be seen in the example for <a class="el" href="counterwithreset_8cpp.html">CounterWithReset</a> below on line 311:</p>
<div class="fragment"><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="keywordtype">void</span> Test_CounterResetIntegration()</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;{</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <a class="code" href="classDetectorGraph_1_1Graph.html">DetectorGraph::Graph</a> graph;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    EventCountDetector counterDetector(&amp;graph);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    ResetDetector resetDetector(&amp;graph);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keyword">auto</span> outTopic = graph.<a class="code" href="classDetectorGraph_1_1Graph.html#ac5b90d3ec0b57ff6c04a5cac1d8c687c">ResolveTopic</a>&lt;EventCount&gt;();</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt;= ResetDetector::kMaxCount; i++)</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        graph.<a class="code" href="classDetectorGraph_1_1Graph.html#aeab252a7ba121ea31750822bc0faf111">PushData</a>(EventHappened());</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        graph.<a class="code" href="classDetectorGraph_1_1Graph.html#a5c4388d5a8d80710bfb0a68c2b45ebbd">EvaluateGraph</a>();</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <a class="code" href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a>(outTopic-&gt;HasNewValue());</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <a class="code" href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a>(outTopic-&gt;GetNewValue().count == i);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keywordflow">while</span>(graph.<a class="code" href="classDetectorGraph_1_1Graph.html#a81735951033b4092daa22269d0fa8bd0">EvaluateIfHasDataPending</a>()) {} <span class="comment">// See also GraphTestUtils::Flush()</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    }</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    graph.<a class="code" href="classDetectorGraph_1_1Graph.html#aeab252a7ba121ea31750822bc0faf111">PushData</a>(EventHappened());</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    graph.<a class="code" href="classDetectorGraph_1_1Graph.html#a5c4388d5a8d80710bfb0a68c2b45ebbd">EvaluateGraph</a>();</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <a class="code" href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a>(outTopic-&gt;HasNewValue());</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <a class="code" href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a>(outTopic-&gt;GetNewValue().count == 1);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;}</div><div class="ttc" id="classDetectorGraph_1_1Graph_html"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html">DetectorGraph::Graph</a></div><div class="ttdoc">Implements a graph of Topics &amp; Detectors with Input/Output APIs. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8hpp_source.html#l00127">graph.hpp:127</a></div></div>
<div class="ttc" id="classDetectorGraph_1_1Graph_html_aeab252a7ba121ea31750822bc0faf111"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#aeab252a7ba121ea31750822bc0faf111">DetectorGraph::Graph::PushData</a></div><div class="ttdeci">void PushData(const TTopicState &amp;aTopicState)</div><div class="ttdoc">Push data to a specific topic in the graph. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8hpp_source.html#l00187">graph.hpp:187</a></div></div>
<div class="ttc" id="classDetectorGraph_1_1Graph_html_a81735951033b4092daa22269d0fa8bd0"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#a81735951033b4092daa22269d0fa8bd0">DetectorGraph::Graph::EvaluateIfHasDataPending</a></div><div class="ttdeci">bool EvaluateIfHasDataPending()</div><div class="ttdoc">Evaluates Graph if data is pending and returns true if so. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8cpp_source.html#l00080">graph.cpp:80</a></div></div>
<div class="ttc" id="classDetectorGraph_1_1Graph_html_ac5b90d3ec0b57ff6c04a5cac1d8c687c"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#ac5b90d3ec0b57ff6c04a5cac1d8c687c">DetectorGraph::Graph::ResolveTopic</a></div><div class="ttdeci">Topic&lt; TTopicState &gt; * ResolveTopic()</div><div class="ttdoc">Find/add a topic in the detector graph. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8hpp_source.html#l00160">graph.hpp:160</a></div></div>
<div class="ttc" id="classDetectorGraph_1_1Graph_html_a5c4388d5a8d80710bfb0a68c2b45ebbd"><div class="ttname"><a href="classDetectorGraph_1_1Graph.html#a5c4388d5a8d80710bfb0a68c2b45ebbd">DetectorGraph::Graph::EvaluateGraph</a></div><div class="ttdeci">ErrorType EvaluateGraph()</div><div class="ttdoc">Evaluate the whole graph. </div><div class="ttdef"><b>Definition:</b> <a href="graph_8cpp_source.html#l00133">graph.cpp:133</a></div></div>
<div class="ttc" id="dgassert_8hpp_html_a0753e08258e388b9decfac0b282f8966"><div class="ttname"><a href="dgassert_8hpp.html#a0753e08258e388b9decfac0b282f8966">DG_ASSERT</a></div><div class="ttdeci">#define DG_ASSERT(condition)</div><div class="ttdef"><b>Definition:</b> <a href="dgassert_8hpp_source.html#l00020">dgassert.hpp:20</a></div></div>
</div><!-- fragment --></div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
